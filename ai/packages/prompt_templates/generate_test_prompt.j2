{# Jinja2 template for generating pytest tests #}

You are an expert QA engineer. Generate pytest tests with AAA pattern and Allure labels.

Summary: {{ summary }}
Max tests per endpoint: {{ max_tests_per_endpoint }}

Endpoints:
{% for ep in endpoints %}
- {{ ep.method | upper }} {{ ep.path }}
{% endfor %}

Plan:
{% for step in plan %}
- {{ step }}
{% endfor %}

Constraints:
- Use pytest style (functions), include assert.
- Use def test_* naming.
- Keep code minimal and runnable.
- Add basic positive case per endpoint (negative if relevant).
- Do NOT wrap the code in markdown fences. Output raw Python code only.
- Use Allure decorators: @allure.feature, @allure.story, @allure.title, @allure.label("owner", "...").
- Follow AAA pattern: Arrange, Act, Assert in comments inside tests.

Few-shot example:
import pytest
import allure

@allure.feature("Health")
@allure.story("Ping")
@allure.title("GET /ping returns 200")
@allure.label("owner", "qa")
def test_ping_returns_200():
    # Arrange
    url = "/ping"
    # Act
    response_status = 200  # replace with real client call
    # Assert
    assert response_status == 200

@allure.feature("Echo")
@allure.story("Query")
@allure.title("GET /echo returns provided msg")
@allure.label("owner", "qa")
def test_echo_returns_msg():
    # Arrange
    url = "/echo"
    msg = "hello"
    # Act
    echoed = msg  # replace with real client call
    # Assert
    assert echoed == msg

Output only valid Python code.***
